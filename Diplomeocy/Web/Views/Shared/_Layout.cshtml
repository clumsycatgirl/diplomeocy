
@using Microsoft.EntityFrameworkCore;
@using Microsoft.EntityFrameworkCore.ChangeTracking;

@using Web.Utils;

@{
    string? theme = ViewContext.HttpContext.Session.GetString("Theme");
    if (string.IsNullOrEmpty(theme)) {
        theme = "light";
    }
}

<!DOCTYPE html>
<html lang="en" class="@theme">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Diplomeocy</title>

    @* <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" /> *@
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/styles.css" asp-append-version="true" />

    <link rel="stylesheet" href="/lib/select2/select2.min.css" ></link>
    
    @await RenderSectionAsync("Styles", required: false)
</head>
<body class="transition-colors duration-200 dark:bg-gray-950 w-full h-full" hx-boost="true">
    @(await Html.RenderComponentAsync<Header>(RenderMode.ServerPrerendered))

    <div class="w-full h-[90vh]">
        <main role="main" class="pb-3 w-full h-full">
            @RenderBody()
        </main>
    </div>


    @* <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script> *@
    <script src="_framework/blazor.server.js"></script>
    <script src="/js/htmx-blazor.js"></script>

    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/htmx/htmx.min.js"></script>   
    <script src="/lib/select2/select2.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script src="/js/site.js"></script>
    @* <script src="../../Scripts/node_modules/preline/dist/preline.js"></script> *@

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
